"use strict";if(document.querySelector("#basket")){var addGoods=function(){var e={name:this.dataset.name,size:this.dataset.size,price:this.dataset.price,number:"1",img:this.dataset.img};if(null===localStorage.getItem("basket")){var t=[];t.push(e),localStorage.setItem("basket",JSON.stringify(t)),viewQuantity(),viewSum(),viewSelected()}else{var a=JSON.parse(localStorage.getItem("basket")),n=this.dataset.name;if(a.find(function(e){return e.name==n}))a.find(function(e){return e.name===n}).number++;else a.push(e);localStorage.setItem("basket",JSON.stringify(a)),viewQuantity(),viewSum(),viewSelected()}},viewQuantity=function(){null===localStorage.getItem("basket")?quantity.innerHTML=0:quantity.innerHTML=JSON.parse(localStorage.getItem("basket")).reduce(function(e,t){return e+ +t.number},0)},viewSum=function(){null===localStorage.getItem("basket")?sum.innerHTML=0:sum.innerHTML=JSON.parse(localStorage.getItem("basket")).map(function(e){return e.price*e.number}).reduce(function(e,t){return e+ +t},0)+"грн"},clearStorage=function(){localStorage.clear("basket"),viewSum(),viewQuantity(),viewSelected()},viewSelected=function(){null===localStorage.getItem("basket")?selected.innerHTML="":selected.innerHTML=JSON.parse(localStorage.getItem("basket")).reduce(function(e,t,a){return e+'<p data-id="'.concat(a,'"><i></i>').concat(t.name," [").concat(t.number,"]: ").concat(t.size," - ").concat(t.price,"грн</p>")},"")},removeGoods=function(e){if("I"===e.target.tagName){var t=e.target.parentNode.dataset.id,a=JSON.parse(localStorage.getItem("basket"));a.splice(t,1),0===a.length?localStorage.removeItem("basket"):localStorage.setItem("basket",JSON.stringify(a)),viewSum(),viewQuantity(),viewSelected()}},quantity=document.querySelector("#basket-quantity"),sum=document.querySelector("#basket-sum"),selected=document.querySelector("#basket-goods");document.querySelectorAll("button").forEach(function(e){return e.addEventListener("click",addGoods)}),document.querySelector("#basket-clear").addEventListener("click",clearStorage),selected.addEventListener("click",function(e){return removeGoods(e)}),viewSum(),viewQuantity(),viewSelected()}if(document.querySelector("#order-goods")){var viewGoods=function(){null===localStorage.getItem("basket")?order.innerHTML="":order.innerHTML=JSON.parse(localStorage.getItem("basket")).reduce(function(e,t,a){return e+'<p data-id="'.concat(a,'"><img src="').concat(t.img,'" alt=""><i></i><b>').concat(t.name,"</b><span>").concat(t.size," </span><span><b>").concat(t.price,'</b>грн </span><span class="minus"></span><span class="number">').concat(t.number,'</span><span class="plus"></span></p>')},"")},changeGoods=function(e){var t=e.target.parentNode.dataset.id,a=JSON.parse(localStorage.getItem("basket"));"I"===e.target.tagName?(a.splice(t,1),0===a.length?localStorage.removeItem("basket"):localStorage.setItem("basket",JSON.stringify(a))):"minus"===e.target.className?a[t].number>1?a[t].number--:a.splice(t,1):"plus"===e.target.className&&a[t].number++,localStorage.setItem("basket",JSON.stringify(a)),viewGoods(),_viewSum()},_viewSum=function(){null===localStorage.getItem("basket")?_sum.innerHTML=0:_sum.innerHTML=JSON.parse(localStorage.getItem("basket")).map(function(e){return e.price*e.number}).reduce(function(e,t){return e+ +t},0)+"грн"},order=document.querySelector("#order-goods"),_sum=document.querySelector("#order-sum");order.addEventListener("click",function(e){return changeGoods(e)}),viewGoods(),_viewSum()}